# Шифр Цезаря 
# alfavit_EU =  'ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZ'
# alfavit_RU = 'ABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZ'
# smeshenie = int(input('Шаг шифровки: '))
# message = input("Сообщение: ").upper()
# itog = ''
# lang = input('Выберите вариант: 1.Encode 2.Decode ')
# 
# if lang == '1':
#     for i in message:
#         mesto = alfavit_RU.find(i)
#         new_mesto = mesto - smeshenie
#         if i in alfavit_RU:
#             itog += alfavit_RU[new_mesto]
#         else:
#             itog += i
# else:
#     for i in message:
#         mesto = alfavit_EU.find(i)
#         new_mesto = mesto + smeshenie
#         if i in alfavit_EU:
#             itog += alfavit_EU[new_mesto]
#         else:
#             itog += i
# print (itog)



RUS1 = 'абвгдеёжзийклмнопрстуфхцчшщъыьэюя'
RUS2 = 'АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ'
LAT1 = 'abcdefghijklmnopqrstuvwxyz'
LAT2 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'


def encode(text: str, shift: int):
    text_out = ''
    for char in text:
        if char in RUS1:
            i = (RUS1.index(char) + shift) % 33
            text_out += RUS1[i]
        elif char in RUS2:
            i = (RUS1.index(char) + shift) % 33
            text_out += RUS2[i]
        elif char in LAT1:
            i = (LAT1.index(char) + shift) % 26
            text_out += LAT1[i]
        elif char in LAT2:
            i = (LAT2.index(char) + shift) % 26
            text_out += LAT2[i]
        else:
            text_out += char
    return text_out


def decode(text: str, shift: int):

    text_out = ''
    for char in text:
        if char in RUS1:
            i = (RUS1.index(char) - shift) % 33
            text_out += RUS1[i]
        elif char in RUS2:
            i = (RUS1.index(char) - shift) % 33
            text_out += RUS2[i]
        elif char in LAT1:
            i = (LAT1.index(char) - shift) % 26
            text_out += LAT1[i]
        elif char in LAT2:
            i = (LAT2.index(char) - shift) % 26
            text_out += LAT2[i]
        else:
            text_out += char
    return text_out


def fun():
    op = input('Выберите вариант: 1 - Encode, 2 - Decode ')
    text = input('Сообщение: ')
    shift = int(input('Шаг шифровки: '))
    if op == '1':
        print(encode(text, shift))
    elif op == '2':
        print(decode(text, shift))
    else:
        print('Неправильно выбрана операция')


if __name__ == "__main__":
    code()
